Content-type: text/html

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of PRCTL</TITLE>
</HEAD><BODY>
<H1>PRCTL</H1>
Section: Manuel du programmeur Linux (2)<BR>Updated: 18 juillet 2003<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NOM </H2>

prctl - Opérations sur un processus
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>#include &lt;<A HREF="file:///usr/include/sys/prctl.h">sys/prctl.h</A>&gt;</B>

<P>
<B>int prctl(int </B><I>option</I><B>, unsigned long </B><I>arg2</I><B>, unsigned long </B><I>arg3</I>

<B>, unsigned long </B><I>arg4</I><B>, unsigned long </B><I>arg5</I><B>);</B>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>prctl</B>

est invoqué avec un premier argument indiquant ce qu'il faut faire,
(ses valeurs sont définies dans &lt;<I>linux/prctl.h</I>&gt;), et des
paramètres supplémentaires dont la signification dépend du premier
argument. Celui-ci peut être&nbsp;:
<DL COMPACT>
<DT><B>PR_SET_PDEATHSIG</B>

<DD>
(Depuis Linux 2.1.57)
Configure le signal de mort du père du processus en cours avec la valeur
<I>arg2</I> (qui peut être un numéro de signal dans
l'intervalle 1..maxsig, ou être nul pour effacer le signal).
Il s'agit du numéro du signal que le processus en cours recevra si son
père se termine. Cette valeur est effacée lors d'un <B>fork()</B>.
<DT><B>PR_GET_PDEATHSIG</B>

<DD>
(Depuis Linux 2.3.15)
Lit la valeur actuelle du signal de mort du processus père, et
l'inscrit dans l'argument (int *) <I>arg2</I>.
<DT><B>PR_SET_DUMPABLE</B>

<DD>
(Depuis Linux 2.4)
Fixe l'attribut déterminant si un fichier core est produit lorsque le
processus reçoit un signal dont le comportement par défaut est de produire
un fichier core. (Nomalement cet attribut est validé pour un processus par
défaut, mais est effacé à l'exécution d'un programme Set-UID ou Set-GID
ainsi que par divers appels-système manipulant des UID et GID).
<I>arg2</I>

doit valoir 0 (pas de fichier core) ou 1 (fichier core possible).
<DT><B>PR_GET_DUMPABLE</B>

<DD>
(Depuis Linux 2.4)
Renvoie (en résultat de fonction) l'état actuel de l'attribut de création de
fichier core du processus appelant.
<DT><B>PR_SET_KEEPCAPS</B>

<DD>
Fixe l'état de l'attribut de conservation des capacités, qui détermine si
les ensembles de capacités effectives et disponibles sont effacés lorsqu'on
modifie les UIDs réel, effectif et sauvé du processus de manière à ce que tous
soient non-nuls alors qu'auparavant l'un au moins était nul.
(Par défaut les ensembles sont effacés).
<I>arg2</I>

doit valoir 0 (les capacités sont effacées) ou 1 (capacités conservées).
<DT><B>PR_GET_KEEPCAPS</B>

<DD>
Renvoie (en résultat de fonction) l'état actuel de conservation des capacités
du processus appelant.
</DL>
<A NAME="lbAE">&nbsp;</A>
<H2>VALEUR RENVOYÉE</H2>

Les options
<B>PR_GET_DUMPABLE</B>

et 
<B>PR_GET_KEEPCAPS</B>

renvoient 0 ou 1.
Toutes les autres options renvoient zéro en réussite, et -1 en cas d'échec,
auquel cas
<I>errno</I>

contient le code d'erreur approprié.
<A NAME="lbAF">&nbsp;</A>
<H2>ERREURS</H2>

<DL COMPACT>
<DT><B>EINVAL</B>

<DD>
La valeur de l'argument
<I>option</I>

n'est pas reconnue, ou bien il s'agit de
<B>PR_SET_PDEATHSIG</B>

et
<I>arg2</I>

n'est pas un numéro de signal ou un zéro.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>CONFORMITÉ</H2>

Cet appel-système est spécifique à Linux.
IRIX dispose d'un appel système prctl (également introduit dans
Linux 2.1.44 sur l'architecture MIPS sous le nom irix_prctl),
dont le prototype est
<P>
<B>ptrdiff_t prctl(int </B><I>option</I><B>, int </B><I>arg2</I><B>, int </B><I>arg3</I><B>);</B>

<P>
et les options permettent de d'obtenir le nombre maximum de processus
par utilisateur, le nombre maximal de processeur utilisables par un
processus, vérifier si un processus est bloqué, lire ou fixer la
taille des piles, etc...
<P>
<A NAME="lbAH">&nbsp;</A>
<H2>DISPONIBILITÉ</H2>

L'appel système prctl() a été introduit dans Linux 2.1.57. Il n'y a pas
encore d'interface prctl() dans la bibliothèque.
<A NAME="lbAI">&nbsp;</A>
<H2>VOIR AUSSI</H2>

<B><A HREF="/cgi-bin/man/man2html?2+signal">signal</A></B>(2)

<A NAME="lbAJ">&nbsp;</A>
<H2>TRADUCTION</H2>

Christophe Blaess, 1996-2003.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NOM </A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">VALEUR RENVOYÉE</A><DD>
<DT><A HREF="#lbAF">ERREURS</A><DD>
<DT><A HREF="#lbAG">CONFORMITÉ</A><DD>
<DT><A HREF="#lbAH">DISPONIBILITÉ</A><DD>
<DT><A HREF="#lbAI">VOIR AUSSI</A><DD>
<DT><A HREF="#lbAJ">TRADUCTION</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 14:54:51 GMT, February 11, 2014
</BODY>
</HTML>
