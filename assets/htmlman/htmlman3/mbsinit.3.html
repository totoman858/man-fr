Content-type: text/html

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of MBSINIT</TITLE>
</HEAD><BODY>
<H1>MBSINIT</H1>
Section: Manuel du programmeur Linux (3)<BR>Updated: 21 juillet 2003<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NOM</H2>

mbsinit - Vérifier si la conversion est dans l'état initial.
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<PRE>
<B>#include &lt;<A HREF="file:///usr/include/wchar.h">wchar.h</A>&gt;</B>

<B>int mbsinit (const mbstate_t *</B><I>ps</I><B>);</B>
</PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

La conversion de caractères entre la représentation multi-octets et les caractères larges emploie
un état de type <B>mbstate_t</B>. La conversion d'une chaîne utilise un automate à états finis.
Lorsqu'elle est interrompue après la conversion d'un nombre entier de caractères, il peut être nécessaire
de mémoriser son état pour pouvoir traiter ultérieurement le reste de la chaîne. Un tel état de conversion
est indispensable pour certains encodages tels que ISO-2022 et UTF-7.
<P>

L'état initial est celui du début de la conversion de chaîne. Il y a deux types d'états, celui utilisé par les conversions
multi-octets en caractères larges, comme <B>mbsrtowcs</B>, et celui employé par les conversions inverses, comme <B>wcsrtombs</B>.
Toutefois, les deux types peuvent être stockés dans une variable <B>mbstate_t</B>, et ils se présentent tous deux sous
la même forme initiale.
<P>

Pour les codages 8 bits ou UTF-8, tous les états sont équivalent à l'état initial.
Pour les encodages multioctets comme UTF-8, EUC-* BIG5 ou SJIS, la conversion
de caractère large en multioctet ne produit jamais d'état non-initial, mais
la conversion multioctet en caractère large comme <B>mbrtowc</B> peut produire
un état non initial si elle est interrompue au milieu d'un caractère.
<P>

Une possibilité pour créer un état mbstate_t initial est de le fixer à zéro&nbsp;:
<PRE>
  mbstate_t state;
  memset(&amp;state,0,sizeof(mbstate_t));
</PRE>

<P>
Sous Linux, on peut aussi utiliser la ligne suivante, même si elle déclenche des avertissements du compilateur :
<PRE>
  mbstate_t state = { 0 };
</PRE>

<P>

La fonction <B>mbsinit</B> vérifie si <I>*ps</I> correspond à un état initial.
<A NAME="lbAE">&nbsp;</A>
<H2>VALEUR RENVOYÉE</H2>

La fonction <B>mbsinit</B> renvoie une valeur non-nulle si <I>*ps</I> est dans l'état initial, ou si <I>ps</I> est un pointeur NULL.
Sinon elle renvoie zéro.
<A NAME="lbAF">&nbsp;</A>
<H2>CONFORMITÉ</H2>

ISO/ANSI C, UNIX98
<A NAME="lbAG">&nbsp;</A>
<H2>VOIR AUSSI</H2>

<B><A HREF="/cgi-bin/man/man2html?3+mbsrtowcs">mbsrtowcs</A></B>(3),

<B><A HREF="/cgi-bin/man/man2html?3+wcsrtombs">wcsrtombs</A></B>(3)

<A NAME="lbAH">&nbsp;</A>
<H2>NOTES</H2>

Le comportement de <B>mbsinit</B> dépend de la catégorie LC_CTYPE de la localisation.
<A NAME="lbAI">&nbsp;</A>
<H2>TRADUCTION</H2>

Christophe Blaess, 2000-2003.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NOM</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">VALEUR RENVOYÉE</A><DD>
<DT><A HREF="#lbAF">CONFORMITÉ</A><DD>
<DT><A HREF="#lbAG">VOIR AUSSI</A><DD>
<DT><A HREF="#lbAH">NOTES</A><DD>
<DT><A HREF="#lbAI">TRADUCTION</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 14:55:07 GMT, February 11, 2014
</BODY>
</HTML>
