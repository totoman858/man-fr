Content-type: text/html

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of GREP</TITLE>
</HEAD><BODY>
<H1>GREP</H1>
Section: Manuel de l'utilisateur Linux (1)<BR>Updated: 9 mars 2003<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NOM</H2>

grep, egrep, fgrep - Afficher les lignes correspondant à un motif donné.
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>grep</B>

[<I>options</I>]

<I>MOTIF</I>

[<I>FICHIER</I>...]

<BR>

<B>grep</B>

[<I>options</I>]

[<B>-e</B>

<I>MOTIF</I>

|
<B>-f</B>

<I>FICHIER</I>]

[<I>FICHIER</I>...]

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

<B>Grep</B>

recherche dans les
<I>FICHIER</I>s

indiqués (ou depuis l'entrée standard si aucun fichier n'est fourni, ou
si le nom
<B>-</B>

est mentionné) les lignes correspondant à un certain
<I>MOTIF</I>.

Par défaut,
<B>grep</B>

affiche les lignes qui correspondent au motif.
<P>

De plus, il existe deux variantes du programme&nbsp;:
<B>egrep</B>

et
<B>fgrep</B>.

<B>Egrep</B>

est identique à
<B>grep&nbsp;-E</B>.

<B>Fgrep</B>

est identique à
<B>grep&nbsp;-F</B>.

<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>-A</B><I> NOMBRE</I><B></B>, --after-context=<I>NOMBRE</I>

<DD>
Afficher
<I>NOMBRE</I>

lignes de contexte supplémentaires après les lignes qui concordent.
Une ligne contenant
<B>--</B>

est mise entre les groupes contigus de correspondances.
<DT><B>-a</B>, <B>--text</B>

<DD>
Traiter un fichier binaire comme s'il s'agissait de texte&nbsp;; cette option
est équivalente à l'option
<B>--binary-files=text</B>.

<DT><B>-B</B><I> NOMBRE</I><B></B>, --before-context=<I>NOMBRE</I>

<DD>
Afficher
<I>NOMBRE</I>

lignes de contexte supplémentaires avant les lignes qui concordent.
Une ligne contenant
<B>--</B>

est mise entre les groupes contigus de correspondances.
<DT><B>-C</B><I> NOMBRE</I><B></B>, --context=<I>NOMBRE</I>

<DD>
Afficher
<I>NOMBRE</I>

lignes de contexte.
Une ligne contenant
<B>--</B>

est mise entre les groupes contigus de correspondances.
<DT><B>-b</B>, <B>--byte-offset</B>

<DD>
Avant chaque ligne, afficher sa position relative (en octets) au sein du
fichier.
<DT><B>--binary-files=</B><I>TYPE</I>

<DD>
Si les premiers octets d'un fichier indiquent qu'il contient des données
binaires, supposer que le fichier est de type
<I>TYPE</I>.

Par défaut,
<I>TYPE</I>

est
<B>binary</B>

(binaire), et soit
<B>grep</B>

affiche un message d'une ligne disant que le fichier binaire concorde,
soit il n'affiche rien s'il n'y a pas concordance.
Si
<I>TYPE</I>

est
<B>without-match</B>

(sans concordance),
<B>grep</B>

suppose qu'un fichier binaire ne concorde jamais. C'est équivalent à
l'option
<B>-I</B>.

Si
<I>TYPE</I>

est
<B>text</B>

(texte),
<B>grep</B>

traite un fichier binaire comme du texte. C'est équivalent à l'option
<B>-a</B>.

<I>Attention&nbsp;:</I>

<B>grep --binary-files=text</B>

peut afficher des données binaires indésirables, qui peuvent avoir des
conséquences fâcheuses si la sortie est envoyée vers un terminal, et si
le pilote de celui-ci interprète cet affichage comme étant des commandes.
<DT><B>--colour[=</B><I>QUAND</I>]<I>, </I><B>--color[=</B><I>QUAND</I>]

<DD>
Entourer la chaîne correspondante avec les marqueurs trouvés dans la
variable d'environnement
<B>GREP_COLOR</B>.

Les valeurs possibles de
<I>QUAND</I>

sont
<B>never</B> (jamais), <B>always</B> (toujours) ou <B>auto</B> (automatique).

<DT><B>-c</B>, <B>--count</B>

<DD>
Ne pas afficher les résultats normaux. À la place, afficher un décompte
des lignes correspondantes pour chaque fichier.
Avec l'option
<B>-v</B>, <B>--invert-match</B>

(voir plus bas), afficher le nombre de lignes ne correspondant pas au
motif.
<DT><B>-D</B><I> ACTION</I><B></B>, --devices=<I>ACTION</I>

<DD>
Si le fichier est un périphérique, une FIFO ou une socket, utiliser
<I>ACTION</I>

dessus. Par défaut,
<I>ACTION</I>

est
<B>read</B>

(lecture), ce qui signifie que les périphériques sont lus comme des
fichiers normaux. Si
<I>ACTION</I>

est
<B>skip</B>

(escamotage), les périphériques ne sont pas pris en compte et aucun
message n'est affiché.
<DT><B>-d</B><I> ACTION</I><B></B>, --directories=<I>ACTION</I>

<DD>
Si le fichier est un répertoire, utiliser
<I>ACTION</I>.

Par défaut,
<I>ACTION</I>

est
<B>read</B>

(lecture), ce qui signifie que les répertoires sont lus comme des
fichiers normaux. Si
<I>ACTION</I>

est
<B>skip</B>

(escamotage), les répertoires ne sont pas pris en compte et aucun message
n'est affiché.
Si
<I>ACTION</I>

est
<B>recurse</B>

(récursivité),
<B>grep</B>

lit tous les fichiers présents dans chaque répertoire, récursivement.
C'est équivalent à l'option
<B>-r</B>.

<DT><B>-E</B>, <B>--extended-regexp</B>

<DD>
Interpréter le
<I>MOTIF</I>

comme une expression rationnelle étendue (voir plus bas).
<DT><B>-e</B><I> MOTIF</I><B></B>, --regexp=<I>MOTIF</I>

<DD>
Utiliser le
<I>MOTIF</I>

indiqué. Ceci permet de protéger les motifs commençant par
<B>-</B>.

<DT><B>-F</B>, <B>--fixed-strings</B>

<DD>
Interpréter le
<I>MOTIF</I>

comme une liste de chaînes de caractères, séparées par des sauts de
ligne. Chacune d'entre elles doit être recherchée. 
<DT><B>-P</B>, <B>--perl-regexp</B>

<DD>
Interpréter le
<I>MOTIF</I>

comme étant une expression rationnelle de Perl.
<DT><B>-f</B><I> FICHIER</I><B></B>, --file=<I>FICHIER</I>

<DD>
Lire les motifs dans le
<I>FICHIER</I>

indiqué, un motif par ligne.
Un fichier vide ne contient aucun motif, si bien qu'aucune
concordance n'est trouvée.
<DT><B>-G</B>, <B>--basic-regexp</B>

<DD>
Interpréter le
<I>MOTIF</I>

comme une expression rationnelle simple (voir plus bas). C'est le
comportement par défaut.
<DT><B>-H</B>, <B>--with-filename</B>

<DD>
Afficher le nom du fichier pour chaque concordance.
<DT><B>-h</B>, <B>--no-filename</B>

<DD>
Ne pas afficher le nom des fichiers dans les résultats lorsque plusieurs
fichiers sont parcourus.
<DT><B>--help</B>

<DD>
Afficher un court message d'aide.
<DT><B>-I</B>

<DD>
Traiter un fichier binaire comme s'il ne contenait aucune concordance&nbsp;;
c'est équivalent à l'option
<B>--binary-files=without-match</B>.

<DT><B>-i</B>, <B>--ignore-case</B>

<DD>
Ignorer les différences majuscules/minuscules aussi bien dans le
<I>MOTIF</I>

que dans les fichiers.
<DT><B>-L</B>, <B>--files-without-match</B>

<DD>
Ne pas afficher les résultats normaux. À la place, indiquer le nom
des fichiers pour lesquels aucun résultat n'aurait été affiché.
La recherche à l'intérieur de chaque fichier s'arrête dès la première
concordance.
<DT><B>-l</B>, <B>--files-with-matches</B>

<DD>
Ne pas afficher les résultats normaux. À la place, indiquer le nom
des fichiers pour lesquels des résultats auraient été affichés.
La recherche à l'intérieur de chaque fichier s'arrête dès la première
concordance.
<DT><B>-m</B><I> NOMBRE</I><B></B>, --max-count=<I>NOMBRE</I>

<DD>
Arrêter de lire un fichier après avoir lu
<I>NOMBRE</I>

lignes qui correspondent. Si l'entrée est l'entrée standard prise depuis
un fichier normal, et si
<I>NOMBRE</I>

lignes qui correspondent sont affichées,
<B>grep</B>

s'assure avant de s'arrêter que l'entrée standard est positionnée juste
après la dernière ligne qui concorde, même s'il y a des lignes de contexte
supplémentaires qui viennent ensuite.
Ceci permet au processus d'appel de redémarrer une recherche. Quand
<B>grep</B>

s'arrête après
<I>NOMBRE</I>

lignes de concordance, il affiche éventuellement des lignes de
contexte. Quand l'option
<B>-c</B>

ou
<B>--count</B>

est utilisée,
<B>grep</B>

n'affiche pas plus que
<I>NOMBRE</I>

lignes. Quand l'option
<B>-v</B>

ou
<B>--invert-match</B>

est aussi utilisée,
<B>grep</B>

s'arrête après avoir affiché
<I>NOMBRE</I>

lignes qui ne concordent pas.
<DT><B>--mmap</B>

<DD>
Si possible, utiliser la fonction système
<B><A HREF="/cgi-bin/man/man2html?2+mmap">mmap</A></B>(2)

pour lire les données, à la place de la fonction système
<B><A HREF="/cgi-bin/man/man2html?2+read">read</A></B>(2)

utilisée par défaut. Dans certaines circonstances,
<B>--mmap</B>

permet de meilleures performances. Cependant,
<B>--mmap</B>

peut avoir un comportement indéfini (y compris la génération d'un
<I>core dump</I>)

si un fichier voit sa taille réduite pendant que
<B>grep</B>

le lit, ou si une erreur d'entrée-sortie survient.
<DT><B>-n</B>, <B>--line-number</B>

<DD>
Ajouter à chaque ligne de sortie un préfixe contenant son numéro
dans le fichier.
<DT><B>-o</B>, <B>--only-matching</B>

<DD>
N'afficher que la partie d'une ligne qui correspond au
<I>MOTIF</I>.

<DT><B>--label=</B><I>ÉTIQUETTE</I>

<DD>
Afficher les données provenant de l'entrée standard comme si elles
provenaient du fichier
<I>ÉTIQUETTE</I>.

C'est particulièrement utile pour des outils comme zgrep, par
exemple, qui font&nbsp;:
<BR>

<B>gzip -cd foo.gz |grep --label=truc quelquechose</B>

<DT><B>--line-buffered</B>

<DD>
Vider la sortie après chaque ligne. Ceci peut détériorer les performances.
<DT><B>-q</B>, <B>--quiet</B>, <B>--silent</B>

<DD>
Ne pas afficher les résultats normaux.
Sortir immédiatement avec un code de retour égal à zéro si aucune
concordance n'est trouvée, et même si une erreur est détectée.
Voyez aussi l'option
<B>-s</B>

ou
<B>--no-messages</B>.

<DT><B>-R</B>, <B>-r</B>, <B>--recursive</B>

<DD>
Lire tous les fichiers à l'intérieur de chaque répertoire,
récursivement. C'est équivalent à l'option
<B>-d recurse</B>.

<DT><B></B>  --include=<I>MOTIF</I>

<DD>
Procéder récursivement dans les répertoires, pour les fichiers qui
correspondent au
<I>MOTIF</I>.

<DT><B></B>  --exclude=<I>MOTIF</I>

<DD>
Procéder récursivement dans les répertoires, pour les fichiers qui
ne correspondent pas au
<I>MOTIF</I>.

<DT><B>-s</B>, <B>--no-messages</B>

<DD>
Ne pas afficher les messages d'erreur concernant les fichiers
inexistants ou illisibles. Note de portabilité&nbsp;: à la différence
de <FONT SIZE="-1">GNU</FONT>
<B>grep</B>,

le
<B>grep</B>

traditionnel n'est pas conforme au standard <FONT SIZE="-1">POSIX.2</FONT>, car le
<B>grep</B>

traditionnel n'a pas d'option
<B>-q</B>

et son option
<B>-s</B>

agit comme l'option
<B>-q</B>

du
<B>grep</B>

de <FONT SIZE="-1">GNU</FONT>.
Les scripts shell destinés à être utilisés avec ces différentes versions
devraient éviter d'utiliser les options
<B>-q</B>

et
<B>-s</B>,

et devraient plutôt rediriger la sortie vers /dev/null.
<DT><B>-U</B>, <B>--binary</B>

<DD>
Traiter les fichiers comme s'ils étaient des fichiers binaires. Par défaut,
sous MS-DOS et MS-Windows,
<B>grep</B>

détermine le type de fichier en regardant le contenu des 32 premiers
kilo-octets. Si
<B>grep</B>

décide que le fichier est un fichier de texte, il enlève les retours
chariot (CR) du contenu du fichier original (afin que les expressions
avec
<B>^</B>

et
<B>$</B>

fonctionnent correctement). L'option
<B>-U</B>

modifie ce comportement, tous les fichiers sont alors lus et traités tels
quels. Si le fichier est un fichier de texte avec des paires CR-LF en
fin de ligne, certaines expressions rationnelles peuvent échouer.
Cette option n'a aucun effet sur des plates-formes autres que MS-DOS et
MS-Windows.
<DT><B>-u</B>, <B>--unix-byte-offsets</B>

<DD>
Afficher la position relative en octets dans le style Unix. Avec cette option,
<B>grep</B>

affiche la position relative en octets comme si le fichier était un fichier de
texte de type Unix, c'est-à-dire avec les caractères CR supprimés.
Ceci permet d'avoir un résultat identique à celui retourné par
<B>grep</B>

sur une machine Unix. Cette option n'a d'effet que si elle est utilisée
conjointement avec l'option
<B>-b</B>,

et sur une machine MS-DOS ou MS-Windows.
<DT><B>-V</B>, <B>--version</B>

<DD>
Afficher le numéro de version de
<B>grep</B>

sur la sortie d'erreur standard. Ce numéro de version
devra être inclus dans tous les rapports de bogues (voir plus bas).
<DT><B>-v</B>, <B>--invert-match</B>

<DD>
Inverser la mise en concordance, pour sélectionner les lignes ne
correspondant pas au motif.
<DT><B>-w</B>, <B>--word-regexp</B>

<DD>
Ne sélectionner que les lignes contenant une concordance formant un mot
complet.
La sous-chaîne correspondante doit donc être soit au début de la ligne,
soit être précédée d'un caractère ne pouvant entrer dans la constitution d'un 
mot. De même elle doit se trouver soit à la fin de la ligne, soit être
suivie par un caractère ne pouvant entrer dans la constitution d'un mot.
Les caractères composant les mots sont les lettres, les chiffres
et le souligné («&nbsp;_&nbsp;»).
<DT><B>-x</B>, <B>--line-regexp</B>

<DD>
Ne sélectionner que les concordances qui occupent une ligne entière.
<DT><B>-y</B>

<DD>
Synonyme obsolète pour
<B>-i</B>.

<DT><B>-Z</B>, <B>--null</B>

<DD>
Afficher un octet nul (le caractère <FONT SIZE="-1">ASCII</FONT>
<B>NUL</B>)

à la place du caractère qui suit d'ordinaire le nom du fichier.
Par exemple,
<B>grep -lZ</B>

affiche un octet nul après chaque nom de fichier, à la place du saut de
ligne. Cette option permet de rendre la sortie non ambiguë, même quand
les noms de fichiers contiennent des caractères inhabituels, comme des
sauts de ligne. Cette option peut être utilisée avec des commandes
telles que
<B>find -print0</B>,

<B>perl -0</B>,

<B>sort -z</B>,

et
<B>xargs -0</B>

pour traiter des fichiers avec des noms quelconques, même ceux contenant
des sauts de ligne.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>EXPRESSIONS RATIONNELLES</H2>

<P>

Une expression rationnelle
(<I>regular expression</I>)

est un motif qui permet de décrire un ensemble
de chaînes. Les expressions rationnelles sont construites comme des
opérations arithmétiques&nbsp;; elles utilisent différents opérateurs pour
combiner des expressions plus petites.
<P>

<B>Grep</B>

comprend deux versions différentes pour la syntaxe des expressions
rationnelles&nbsp;:
«&nbsp;simple&nbsp;»
(<I>basic</I>)

et «&nbsp;étendue&nbsp;»
(<I>extended</I>).

Dans la version <FONT SIZE="-1">GNU</FONT> de
<B>grep</B>,

il n'y a pas de différence dans les fonctionnalités disponibles, quelle que
soit la syntaxe utilisée.
Dans d'autres implantations, les expressions rationnelles simples sont
moins puissantes. La description ci-dessous correspond aux expressions
étendues, les différences avec les expressions simples étant résumées
ensuite.
<P>

Les briques élémentaires sont les expressions rationnelles correspondant
à un seul caractère. La plupart des caractères, y compris les lettres et les 
chiffres, sont des expressions rationnelles qui
concordent avec eux-mêmes. Tout méta-caractère ayant une signification
spéciale doit être protégé en le faisant précéder d'une contre-oblique
(<I>backslash</I>).

<P>

Une liste de caractères, encadrée par
<B>[</B>

et
<B>]</B>

peut être mise en correspondance avec n'importe quel caractère
appartenant à la liste.
Si le premier caractère de la liste est l'accent circonflexe
<B>^</B>

alors la mise en correspondance se fait avec n'importe quel caractère
<I>absent</I>

de la liste.
Par exemple, l'expression rationnelle
<B>[0123456789]</B>

concorde avec n'importe quel chiffre.
<P>

Entre ces crochets, un intervalle de caractères peut être indiqué en
donnant le premier et le dernier caractère, séparés par un tiret.
Il correspond à n'importe quel caractère compris entre le premier et le
dernier caractère (ceux-ci inclus), l'ordre des caractères dépendant des
paramètres régionaux 
(<I>locale</I>,

en anglais) en cours. Ainsi avec la valeur par défaut (appelée
«&nbsp;C&nbsp;»),
<B>[a-d]</B>

est équivalent à
<B>[abcd]</B>.

Avec beaucoup de paramètres régionaux, les caractères sont triés en suivant
l'ordre des dictionnaires, et
<B>[a-d]</B>

n'est alors pas équivalent à
<B>[abcd]</B>,

mais à
<B>[aBbCcDd]</B>,

par exemple.
Pour que ces listes aient le comportement usuel de C, vous pouvez positionner
la variable d'environnement
<B>LC_ALL</B>

à la valeur
<B>C</B>.

<P>

Enfin, il existe certaines classes de caractères prédéfinies.
Leurs noms sont assez explicites&nbsp;:
<B>[:alnum:]</B>,

<B>[:alpha:]</B>,

<B>[:cntrl:]</B>,

<B>[:digit:]</B>

(chiffres),
<B>[:graph:]</B>,

<B>[:lower:]</B>

(minuscules),
<B>[:print:]</B>

(affichables),
<B>[:punct:]</B>

(ponctuation),
<B>[:space:]</B>

(espace),
<B>[:upper:]</B>

(majuscules),
et
<B>[:xdigit:]</B>

(chiffres hexadécimaux).
Par exemple,
<B>[[:alnum:]]</B>

correspond à
<B>[0-9A-Za-z]</B>,

à la différence près que le dernier dépend des paramètres régionaux C et du
codage de caractères <FONT SIZE="-1">ASCII</FONT>, alors que le premier est plus
portable.
Remarquez que les crochets dans les noms de classes font partie intégrante
du nom symbolique, et qu'ils doivent donc être inclus en plus des
crochets encadrant la liste.
La plupart des méta-caractères perdent leur signification spéciale
au sein des listes.
Pour inclure un caractère
<B>]</B>,

mettez-le en premier dans la liste.
De même, pour inclure un caractère
<B>^</B>,

placez-le n'importe où sauf au début de la liste.
Enfin, pour inclure un
<B>-</B>,

placez-le en dernier.
<P>

Le point
<B>.</B>

correspond à n'importe quel caractère.
Le symbole
<B>\w</B>

est un synonyme de
<B>[[:alnum:]]</B>

et
<B>\W</B>

un synonyme de
<B>[^[:alnum]]</B>.

<P>

L'accent circonflexe
<B>^</B>

et le symbole dollar
<B>$</B>

sont des méta-caractères correspondant respectivement à une chaîne vide
au début et en fin de ligne.
Les symboles
<B>\&lt;</B>

et
<B>\&gt;</B>

correspondent respectivement à une chaîne vide en début et en fin de mot.
Le symbole
<B>\b</B>

correspond à une chaîne vide à l'extrémité d'un mot, et
<B>\B</B>

correspond à une chaîne vide ne se trouvant
<I>pas</I>

à une extrémité de mot.
<P>

Une expression rationnelle correspondant à un caractère unique peut
être suivie par l'un des opérateurs de répétition suivants&nbsp;:

<DL COMPACT>
<DT><B>?</B>

<DD>
L'élément précédent est facultatif et peut être rencontré au plus une fois.
<DT><B>*</B>

<DD>
L'élément précédent peut être rencontré zéro ou plusieurs fois.
<DT><B>+</B>

<DD>
L'élément précédent peut être rencontré une ou plusieurs fois.
<DT><B>{</B><I>n</I><B>}</B>

<DD>
L'élément précédent doit être cherché exactement
<I>n</I>

fois.
<DT><B>{</B><I>n</I><B>,}</B>

<DD>
L'élément précédent doit être cherché
<I>n</I>

fois ou plus.
<DT><B>{</B><I>n</I><B>,</B><I>m</I><B>}</B>

<DD>
L'élément précédent doit être cherché au moins
<I>n</I>

fois, mais au plus
<I>m</I>

fois.

</DL>
<P>

Deux expressions rationnelles peuvent être juxtaposées&nbsp;; l'expression
résultante correspondra à toute chaîne formée par la juxtaposition de
deux sous-chaînes correspondant respectivement aux deux expressions.
<P>

Deux expressions rationnelles peuvent être reliées par l'opérateur infixe
<B>|</B>&nbsp;;

l'expression résultante correspondra à toute chaîne concordant avec l'une
ou l'autre des deux expressions.
<P>

Les répétitions ont priorité sur les juxtapositions, qui à leur tour ont
priorité sur les alternatives. Une sous-expression peut être entourée par
des parenthèses pour modifier ces règles de priorité.
<P>

La référence inverse
<B>\</B><I>n</I>, où
<I>n</I>

est un chiffre unique, correspond à la sous-chaîne déjà mise en correspondance
avec la
<I>n</I>-ième

sous-expression rationnelle entre parenthèses.
<P>

Dans les expressions rationnelles simples, les méta-caractères
<B>?</B>,

<B>+</B>,

<B>{</B>,

<B>|</B>,

<B>(</B>,

et
<B>)</B>

perdent leur signification spéciale, il faut utiliser à la place
leurs versions avec la contre-oblique
<B>\?</B>,

<B>\+</B>,

<B>\{</B>,

<B>\|</B>,

<B>\(</B>,

et
<B>\)</B>.

<P>

La version traditionnelle
d'<B>egrep</B>

ne connaît pas le méta-caractère
<B>{</B>,

et certaines implantations
d'<B>egrep</B>

utilisent
<B>\{</B>

à la place, si bien que des scripts shell portables devraient éviter
<B>{</B>

dans les motifs
d'<B>egrep</B>

et utiliser
<B>[{]</B>

pour désigner un caractère
<B>{</B>.

<P>

<FONT SIZE="-1">GNU</FONT>
<B>egrep</B>

essaie d'émuler l'usage traditionnel en supposant que
<B>{</B>

n'est pas spécial au cas où il rendrait invalide l'expression qu'il commence. 
Par exemple, la commande shell
<B>egrep '{1'</B>

recherche la chaîne composée des deux caractères
<B>{1</B>

au lieu de signaler une erreur de syntaxe dans l'expression rationnelle.
<FONT SIZE="-1">POSIX.2</FONT> permet ce comportement comme une extension à la norme,
mais les scripts portables devraient l'éviter.
<A NAME="lbAG">&nbsp;</A>
<H2>VARIABLES D'ENVIRONNEMENT</H2>

Le comportement de grep est modifié par les variables d'environnement
suivantes&nbsp;:
<B>LC_ALL</B>,

<B>LC_</B><I>truc</I>

et
<B>LANG</B>,

dans cet ordre. La variable positionnée en premier détermine le choix
des paramètres régionaux. Par exemple, si
<B>LC_ALL</B>

n'est pas positionnée, mais
<B>LC_MESSAGES</B>

vaut
<B>fr_FR</B>,

alors le français est utilisé pour l'affichage des messages.
Le défaut C est utilisé si aucune variable d'environnement n'est
trouvée, ou si le catalogue des paramètres régionaux n'est pas installé,
ou bien si
<B>grep</B>

a été compilé sans le support pour les langues nationales (<FONT SIZE="-1">NLS</FONT>).
<DL COMPACT>
<DT><B>GREP_OPTIONS</B>

<DD>
Cette variable définit des options qui seront ajoutées avant les options
de la ligne de commande. Par exemple, si
<B>GREP_OPTIONS</B>

vaut
<B>«&nbsp;--binary-files=without-match --directories=skip&nbsp;»</B>,

<B>grep</B>

se comporte comme si les deux options
<B>--binary-files=without-match</B>

et
<B>--directories=skip</B>

avaient été spécifiées avant les options explicites.
Différentes options peuvent être séparées par des espaces, et une
contre-oblique supprime la signification spéciale du caractère suivant,
ce qui permet de spécifier une option contenant un espace ou une
contre-oblique.
<DT><B>GREP_COLOR</B>

<DD>
Spécifie les marqueurs pour la mise en relief.
<DT><B>LC_ALL</B>, <B>LC_COLLATE</B>, <B>LANG</B><DD>
Ces variables spécifient le choix des paramètres régionaux pour
<B>LC_COLLATE</B>,

qui détermine l'ordre des caractères utilisé dans des intervalles tels
que
<B>[a-z]</B>.

<DT><B>LC_ALL</B>, <B>LC_CTYPE</B>, <B>LANG</B><DD>
Ces variables spécifient le choix des paramètres régionaux pour
<B>LC_CTYPE</B>,

qui détermine le codage de caractères utilisé, par exemple pour indiquer
quels caractères sont considérés comme étant des espaces.
<DT><B>LC_ALL</B>, <B>LC_MESSAGES</B>, <B>LANG</B><DD>
Ces variables spécifient le choix des paramètres régionaux pour
<B>LC_MESSAGES</B>,

qui détermine la langue utilisée par
<B>grep</B>

pour ses messages. Avec le défaut C, les messages sont en américain.
<DT><B>POSIXLY_CORRECT</B>

<DD>
Si cette variable est positionnée,
<B>grep</B>

se comporte comme indiqué dans la norme <FONT SIZE="-1">POSIX.2</FONT>. Sinon,
<B>grep</B>

se comporte plus comme les autres programmes <FONT SIZE="-1">GNU</FONT>.
<FONT SIZE="-1">POSIX.2</FONT> requiert que les options qui suivent des noms de fichiers
soient considérées aussi comme des noms de fichiers. Par
défaut, ces options sont déplacées avant la liste des opérandes et sont
traitées comme des options.
<FONT SIZE="-1">POSIX.2</FONT> requiert aussi que les options non reconnues soient considérées
comme «&nbsp;illégales&nbsp;»&nbsp;; mais comme elles n'enfreignent pas vraiment la loi,
elles sont rapportées comme étant «&nbsp;invalides&nbsp;» par défaut.
<B>POSIXLY_CORRECT</B>

désactive aussi l'option <B>_</B><I>N</I><B>_GNU_nonoption_argv_flags_</B>, qui 
est décrite plus bas.
<DT><B>_</B><I>N</I><B>_GNU_nonoption_argv_flags_</B><DD>
(ici,
<I>N</I>

est l'identifiant numérique du processus de
<B>grep</B>).

Si le
<I>i</I>-ième

caractère de la valeur de cette variable d'environnement vaut
<B>1</B>,

le
<I>i</I>-ième

opérande de
<B>grep</B>

n'est pas considéré comme étant une option, même s'il semble l'être.
Un shell peut placer cette variable dans l'environnement de chaque
commande lancée, pour spécifier quels opérandes sont le résultat
du remplacement de méta-caractères et ne doivent donc pas être considérés
comme des options.
Ce comportement n'est présent qu'avec la bibliothèque C de <FONT SIZE="-1">GNU</FONT>,
et seulement si
<B>POSIXLY_CORRECT</B>

n'est pas positionnée.
</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>DIAGNOSTICS</H2>

<P>

Normalement, le code de retour est 0 si des concordances ont été
trouvées, et 1 si aucune concordances n'a été faite.
Mais le code est 2 si une erreur est survenue, à moins que les options
<B>-q</B>,

<B>--quiet</B>

ou
<B>--silent</B>

ne soient utilisées et qu'une ligne ne soit trouvée.
<A NAME="lbAI">&nbsp;</A>
<H2>BOGUES</H2>

<P>

Envoyez les rapports de bogue ([ndt] en anglais&nbsp;!) à
<B><A HREF="mailto:bug-gnu-utils@gnu.org">bug-gnu-utils@gnu.org</A></B>.

Assurez-vous d'inclure le mot «&nbsp;grep&nbsp;» quelque part dans le
sujet du message.
<P>

Dans les constructions
<B>{</B><I>m</I><B>,</B><I>n</I><B>}</B>

de grandes valeurs de répétition peuvent pousser grep à
utiliser beaucoup de mémoire.
De plus, certaines autres expressions rationnelles tordues
peuvent prendre un temps très long, et mener à un
manque de mémoire.
<P>

Les références inverses sont très lentes et peuvent demander un
temps très long.
<P>
<A NAME="lbAJ">&nbsp;</A>
<H2>TRADUCTION</H2>

Christophe Blaess, 1997.
<BR>

Denis Barbier, 2003.
<P>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NOM</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">EXPRESSIONS RATIONNELLES</A><DD>
<DT><A HREF="#lbAG">VARIABLES D'ENVIRONNEMENT</A><DD>
<DT><A HREF="#lbAH">DIAGNOSTICS</A><DD>
<DT><A HREF="#lbAI">BOGUES</A><DD>
<DT><A HREF="#lbAJ">TRADUCTION</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 14:54:42 GMT, February 11, 2014
</BODY>
</HTML>
