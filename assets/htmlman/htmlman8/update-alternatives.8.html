Content-type: text/html

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of UPDATE-ALTERNATIVES</TITLE>
</HEAD><BODY>
<H1>UPDATE-ALTERNATIVES</H1>
Section: dpkg utilities (8)<BR>Updated: 19 janvier 1998<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NOM</H2>

update-alternatives - maintenance des liens symboliques déterminant les noms
par défaut de certaines commandes
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>update-alternatives</B>

[<I>options</I>]

<B>--install</B>

<I>lien nom chemin priorité</I>

[<B>--slave</B>

<I>lien nom</I>

<I>chemin</I>]...

<P>

<B>update-alternatives</B>

[<I>options</I>]

<B>--remove</B>

<I>nom chemin</I>

<P>

<B>update-alternatives</B>

[<I>options</I>]

<B>--auto</B>

<I>nom</I>

<P>

<B>update-alternatives</B>

[<I>options</I>]

<B>--display</B>

<I>nom</I>

<P>

<B>update-alternatives</B>

[<I>options</I>]

<B>--list</B>

<I>nom</I>

<P>

<B>update-alternatives</B>

[<I>options</I>]

<B>--config</B>

<I>nom</I>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>update-alternatives</B>

crée, enlève, conserve et affiche des informations concernant les liens 
symboliques qui forment le système Debian des «&nbsp;alternatives&nbsp;».
<P>

Il est possible d'installer, sur un même système et en même temps, des
programmes qui remplissent des fonctions identiques ou semblables.
Par exemple, beaucoup de systèmes installent plusieurs éditeurs de
texte en même temps. Cela permet à chaque utilisateur d'un système de choisir,
s'il le désire, un éditeur de texte différent&nbsp;; mais cela rend les choses
difficiles pour le programme qui doit choisir un bon éditeur de texte
quand l'utilisateur n'a pas fait de choix précis.
<P>

Le système Debian des «&nbsp;alternatives&nbsp;» essaie de résoudre ce problème.
Tous les fichiers qui proposent des fonctions interchangeables se servent
d'un nom générique qui se trouve dans l'arborescence. Le système des 
«&nbsp;alternatives&nbsp;» et l'administrateur système font connaître ensemble le
fichier qui est réellement visé par ce nom générique. Par exemple, si les
éditeurs de texte
<B><A HREF="/cgi-bin/man/man2html?1+ed">ed</A></B>(1)

et
<B><A HREF="/cgi-bin/man/man2html?1+nvi">nvi</A></B>(1)

sont tous les deux installés, le système des «&nbsp;alternatives&nbsp;» fait que le nom 
générique 
<I>/usr/bin/editor</I>

renvoie par défaut à
<I>/usr/bin/nvi.</I>

L'administrateur système peut remplacer cette assignation par
<I>/usr/bin/ed</I>

et le système des «&nbsp;alternatives&nbsp;» ne la changera pas tant qu'on ne lui
aura pas demandé explicitement de le faire.
<P>

Le nom générique n'est pas un lien symbolique direct vers l'alternative
choisie. c'est en fait un lien symbolique vers un nom situé dans le
<I>répertoire</I>

<I>des «&nbsp;alternatives&nbsp;»,</I>

lequel nom est à son tour un lien symbolique vers le fichier réellement
visé. Les modifications faites par l'administrateur système sont ainsi
confinées dans le répertoire 
<I>/etc :</I>

le FHS (lisez-le) donne de Bonnes Raisons de faire ainsi.
<P>

Chaque fois qu'un paquet proposant un fichier pour une fonction déterminée,
est installé, modifié ou désinstallé,
<B>update-alternatives</B>

est appelé pour mettre à jour les informations concernant ce fichier dans
le système des «&nbsp;alternatives&nbsp;».
On appelle habituellement
<B>update-alternatives</B>

dans les scripts
<B>postinst</B>

et
<B>prerm</B>

des paquets Debian.
<P>

Il est souvent utile de synchroniser certaines alternatives, de manière à
pouvoir les manipuler globalement&nbsp;; par exemple, quand plusieurs versions
de 
<B><A HREF="/cgi-bin/man/man2html?1+vi">vi</A></B>(1)

sont installées, la page de manuel qui est visée par
<I>/usr/share/man/man1/vi.1</I>

devrait correspondre à 
<I>/usr/bin/vi.</I>

<B>update-alternatives</B>

gère ce problème avec les liens
<I>principaux («&nbsp;master&nbsp;»)</I>

et les liens
<I>secondaires («&nbsp;slave&nbsp;»)</I>

Quand le lien principal est changé, tous les liens secondaires associés
sont changés.
Un lien principal et ses liens secondaires associés composent un
<I>groupe</I>

de
<I>liens.</I>

<P>

À tout moment, un groupe de liens est dans l'un des deux modes suivants&nbsp;:
automatique ou manuel. Quand un groupe est dans le mode automatique et que 
des paquets sont installés ou désinstallés, le système des «&nbsp;alternatives&nbsp;» 
décide automatiquement s'il doit mettre à jour les liens et comment le faire.
Dans le mode manuel, le système des «&nbsp;alternatives&nbsp;» ne change pas les
liens et laisse l'administrateur système prendre toutes les décisions.
<P>

Un groupe de liens est en mode automatique quand il est crée sur un système
pour la première fois. Quand l'administrateur système
modifie le paramétrage automatique du système, 
<B>update-alternatives</B>

le remarquera la prochaine fois qu'il sera lancé pour ce groupe aux
liens modifiés et il fera passer ce groupe en mode manuel.
<P>

À chaque alternative est associée une
<I>priorité.</I>

Quand un groupe de liens est en mode automatique, l'alternative visée par les
éléments du groupe est celle qui possède la priorité la plus élevée.
<P>

Quand on utilise l'option
<I>--config,</I>

<B>update-alternatives</B>

affiche toutes les possibilités du groupe pour lequel
<I>nom</I>

est le lien principal.
On vous demandera alors quelle possibilité vous choisissez pour ce groupe.
Dès qu'une modification est faite, le groupe de liens n'est plus en mode
<I>auto. </I>

Il vous faudra utiliser l'option
<I>--auto</I>

pour revenir au mode automatique.
<A NAME="lbAE">&nbsp;</A>
<H2>TERMINOLOGIE</H2>

Comme les opérations de
<B>update-alternatives</B>

sont très compliquées, voici quelques termes qui faciliteront l'explication.
<DL COMPACT>
<DT>nom générique<DD>
C'est un nom, par exemple
<I>/usr/bin/editor,</I>

qui renvoie, à travers le système des «&nbsp;alternatives&nbsp;», à l'un des fichiers qui
remplissent des fonctions similaires.
<DT>lien symbolique<DD>
Sans en dire plus, c'est un lien symbolique qui se trouve dans le répertoire
alternatives, répertoire que l'administrateur système est supposé déterminer.
<DT>alternative<DD>
C'est le nom d'un fichier particulier dans l'arborescence&nbsp;; il peut être
accessible, via un nom générique, avec le système des «&nbsp;alternatives&nbsp;».
<DT>répertoire des alternatives <DD>
C'est le répertoire qui contient les liens symboliques&nbsp;; il s'agit 
par défaut de
<I>/etc/alternatives.</I>

<DT>répertoire administratif<DD>
C'est le répertoire qui contient des renseignements sur l'état de
<B>update-alternatives.</B>

Il s'agit par défaut de
<I>/var/lib/dpkg/alternatives.</I>

<DT>groupe de liens<DD>
C'est un ensemble de liens symboliques corrélés, de manière qu'on puisse les
mettre à jour en une seule fois.
<DT>lien principal<DD>
Dans un groupe de liens, c'est le lien qui détermine comment sont configurés
les autres liens du groupe.
<DT>lien secondaire («&nbsp;slave&nbsp;»)<DD>
Dans un groupe de liens, c'est un lien déterminé par le paramétrage du lien
principal.
<DT>mode automatique<DD>
Quand un groupe de liens est en mode automatique,
le système des «&nbsp;alternatives&nbsp;» assure que les liens dans le groupe
pointent vers l'alternative possédant la priorité la plus élevée
dans ce groupe.
<DT>mode manuel <DD>
Quand un groupe de liens est en mode manuel,
le système des «&nbsp;alternatives&nbsp;» ne modifie pas le paramétrage de l'
administrateur système.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>OPTIONS</H2>

Pour toute opération significative, on doit demander une seule action à
<B>update-alternatives.</B>

Pour toute action, on peut préciser un certain nombre d'options.
<A NAME="lbAG">&nbsp;</A>
<H3>Options générales</H3>

<DL COMPACT>
<DT><B>--verbose</B>

<DD>
produit plus de commentaires sur ce que fait
<B>update-alternatives.</B>

<DT><B>--quiet</B>

<DD>
ne produit pas de commentaires à moins qu'une erreur survienne.
Cette option n'est pas encore implémentée.
<DT><B>--test</B>

<DD>
En vérité, ne fait rien&nbsp;! dit simplement ce qui pourrait être fait.
Cette option n'est pas encore implémentée.
<DT><B>--help</B>

<DD>
Donne des renseignements sur l'utilisation (et donne la version de
<B>update-alternatives).</B>

<DT><B>--version</B>

<DD>
donne la version de
<B>update-alternatives</B>

et des renseignements sur l'utilisation.
<DT><B>--altdir</B> <I>répertoire</I><DD>
Donne le répertoire des alternatives, quand il est différent de celui par
défaut.
<DT><B>--admindir</B> <I>répertoire</I><DD>
Donne le répertoire administratif, quand il est différent de celui par
défaut.
</DL>
<A NAME="lbAH">&nbsp;</A>
<H3>ACTIONS</H3>



<DL COMPACT>
<DT><B>--install</B> <I>lien gen chemin pri</I> [<B>--slave</B> <I>slien sgen schemin</I>] ...<DD>
Ajoute un groupe d'alternatives au système.
<I>gen</I>

est le nom générique du lien principal,
<I>lien</I>

est le nom de son lien symbolique, et
<I>chemin</I>

est l'alternative présentée pour le lien principal.
<I>sgen</I>,

<I>slien</I>

et
<I>schemin</I>

sont les nom générique, lien symbolique et alternative pour un lien secondaire.
On peut indiquer zéro ou plusieurs options
<B>--slave</B>

chacune suivie par trois arguments.
<DT><DD>
Quand le lien principal spécifié existe déjà dans les enregistrements du
système des «&nbsp;alternatives&nbsp;», les renseignements fournies sont ajoutées
dans un nouvel ensemble d'alternatives pour le groupe.
Sinon, un nouveau groupe contenant ces informations est ajouté et mis en 
mode automatique.
Quand un groupe est en mode automatique, et quand la priorité des
alternatives nouvellement ajoutées est plus élevée que toutes celles des
alternatives installées dans ce groupe, les liens symboliques sont mis à
jour et pointent vers les alternatives nouvellement ajoutées.
<DT><B>--remove</B> <I>nom chemin</I><DD>
Enlève une alternative et tous ses liens secondaires associés.
<I>nom</I>

est un nom dans le répertoire des «&nbsp;alternatives&nbsp;», et
<I>chemin</I>

est un nom de fichier auquel
<I>nom</I>

peut être lié. Quand
<I>nom</I>

est en effet lié à
<I>chemin,</I>

<I>nom</I>

est mis à jour et pointe vers une  autre alternative adéquate, ou bien
est enlevé si il n'y en a pas d'autre. De même, les liens secondaires 
associés sont mis à jour ou enlevés.
Quand le lien ne pointe pas déjà sur
<I>chemin,</I>

aucun lien n'est modifié&nbsp;; seules les informations sur l'alternative sont
supprimées.
<DT><B>--auto</B> <I>nom</I><DD>
Passe le lien symbolique principal
<I>nom</I>

en mode  automatique.
En même temps, le lien symbolique principal et ses liens  secondaires sont mis
à jour et pointent vers les alternatives avec les priorités les plus
élevées.
<DT><B>--display</B> <I>nom</I><DD>
Affiche des renseignements sur le groupe de liens pour lequel
<I>nom</I>

est le lien principal.
L'information affichée comprend le mode du groupe
(auto ou manuel),
vers quelle alternative le lien symbolique pointe actuellement,
quelles autres alternatives sont disponibles (et les liens secondaires 
associés),
et l'alternative actuellement installée qui possède la priorité la plus
élevée.
<DT><B>--list</B> <I>link</I><DD>
Affiche toutes les cibles du groupe de liens.
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>FICHIERS</H2>

<DL COMPACT>
<DT><I>/etc/alternatives/</I>

<DD>
Le répertoire des «&nbsp;alternatives&nbsp;» par défaut.
Peut être remplacé avec l'option
<B>--altdir.</B>

<DT><I>/var/lib/dpkg/alternatives/</I>

<DD>
Le répertoire administratif par défaut.
Peut être remplacé avec l'option
<B>--admindir</B>

</DL>
<A NAME="lbAJ">&nbsp;</A>
<H2>ÉTAT DE SORTIE</H2>

<DL COMPACT>
<DT>0<DD>
L'action demandée s'est correctement déroulée.
<DT>2<DD>
Des problèmes sont survenus lors de l'analyse de la ligne de commande ou bien
pendant l'exécution de l'action.
</DL>
<A NAME="lbAK">&nbsp;</A>
<H2>DIAGNOSTICS</H2>

<B>update-alternatives</B>

bavarde sans arrêt sur ses opérations sur le canal de sortie standard.
Quand un problème arrive,
<B>update-alternatives</B>

envoie des messages d'erreur sur la sortie d'erreur standard et retourne
un état de sortie égal à 2.
Ces diagnostics devraient s'expliquer d'eux-mêmes&nbsp;; Si ce n'est pas le cas,
veuillez faire un rapport de bogue.
<A NAME="lbAL">&nbsp;</A>
<H2>BOGUES</H2>

Si vous trouvez un bogue, veuillez envoyer un rapport de bogue au système
de suivi des bogues de Debian, ou bien, si ce n'est pas possible, envoyez
un courriel directement à l'auteur.
<P>

Si vous trouvez une discordance entre l'action de
<B>update-alternatives</B>

et cette page de manuel, c'est qu'il y a un bogue, soit dans l'implémentation 
soit dans la documentation&nbsp;;
faites un rapport.
<A NAME="lbAM">&nbsp;</A>
<H2>AUTEUR</H2>

Le programme de Debian «&nbsp;update-alternatives&nbsp;» est sous copyright 1995
Ian Jackson. C'est un logiciel libre&nbsp;; Voyez la «&nbsp;GNU General Public License&nbsp;»
version 2 ou supérieure pour les conditions du copyright. Il n'y a
AUCUNE garantie.
<P>

Cette page de manuel est sous copyright 1997/98 Charles Briscoe-Smith.
C'est une documentation libre&nbsp;; Voyez la «&nbsp;GNU General Public License&nbsp;»
version 2 ou supérieure pour les conditions du copyright. Il n'y a
AUCUNE garantie.
<P>

On peut trouver la licence GNU GPL dans /usr/share/common-licenses/GPL 
sur tous les systèmes Debian.

<A NAME="lbAN">&nbsp;</A>
<H2>VOIR AUSSI</H2>

<B><A HREF="/cgi-bin/man/man2html?1+ln">ln</A></B>(1),

FHS, le standard pour les systèmes de fichiers Linux.
<A NAME="lbAO">&nbsp;</A>
<H2>TRADUCTION</H2>

Philippe Batailler. Nov 200O
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NOM</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">TERMINOLOGIE</A><DD>
<DT><A HREF="#lbAF">OPTIONS</A><DD>
<DL>
<DT><A HREF="#lbAG">Options générales</A><DD>
<DT><A HREF="#lbAH">ACTIONS</A><DD>
</DL>
<DT><A HREF="#lbAI">FICHIERS</A><DD>
<DT><A HREF="#lbAJ">ÉTAT DE SORTIE</A><DD>
<DT><A HREF="#lbAK">DIAGNOSTICS</A><DD>
<DT><A HREF="#lbAL">BOGUES</A><DD>
<DT><A HREF="#lbAM">AUTEUR</A><DD>
<DT><A HREF="#lbAN">VOIR AUSSI</A><DD>
<DT><A HREF="#lbAO">TRADUCTION</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 14:56:04 GMT, February 11, 2014
</BODY>
</HTML>
